<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba de Sesión</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-5">
    <h2 class="mb-4 text-center">Prueba de Sesiones con Express</h2>

    <!-- Botón para iniciar sesión -->
    <button id="setSession" class="btn btn-primary mb-3">Iniciar Sesión</button>

    <!-- Botón para obtener sesión -->
    <button id="getSession" class="btn btn-success mb-3">Obtener Sesión</button>

    <!-- Botón para cerrar sesión -->
    <button id="logout" class="btn btn-danger mb-3">Cerrar Sesión</button>

    <!-- Resultado -->
    <div id="result" class="alert mt-3" style="display: none;"></div>

    <script>
        const resultDiv = document.getElementById("result");

        // Función para mostrar mensajes
        function showMessage(message, type) {
            resultDiv.textContent = message;
            resultDiv.className = `alert alert-${type} mt-3`;
            resultDiv.style.display = "block";
        }

        // Iniciar sesión (guardar sesión en el servidor)
        document.getElementById("setSession").addEventListener("click", async () => {
            const response = await fetch('/set-session');
            const text = await response.text();
            showMessage(text, "primary");
        });

        // Obtener datos de la sesión
        document.getElementById("getSession").addEventListener("click", async () => {
            const response = await fetch('/get-session');
            const text = await response.text();
            showMessage(text, "success");
        });

        // Cerrar sesión
        document.getElementById("logout").addEventListener("click", async () => {
            const response = await fetch('/logout');
            const text = await response.text();
            showMessage(text, "danger");
        });
    </script>
</body>
</html>
